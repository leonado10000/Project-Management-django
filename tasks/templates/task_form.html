{% extends 'base.html' %}
{% block title %}Task Form{% endblock %}

{% block content %}
<div class="container mt-5">
    Back to your project : <a href="{% url 'project_detail' project.id %}" class="btn btn-primary">{{ project }}</a>
    <h2>{% if task %}Update Task{% else %}Create Task{% endif %}</h2>
    <form method="post" action="{% url 'task_create' project.id %}">
        {% csrf_token %}
            <div class="form-group">
              <label for="tname">Task Name</label>
              <input type="text" class="form-control" name="tname" aria-describedby="emailHelp" placeholder="Task Name">
              <small id="emailHelp" class="form-text text-muted">Name should be self explainatory</small>
            </div>
            <div class="form-group">
                <label for="tdesc">Task Description</label>
                <input type="text" class="form-control" name="tdesc" aria-describedby="emailHelp" placeholder="Description">
                <small id="emailHelp" class="form-text text-muted">Provide some suggestions or expain in details.</small>
            </div>

            <div class="form-group">
                <label for="assign_to">Assign to</label>
                <select class="form-control" name="assign_to">
                    {% for member in project.members.all %}
                        <option value="{{ member.id }}">{{ member }}</option>
                    {% endfor %}
                </select>
              </div>
              <div class="form-group">
              <label for="status">Status</label>
              <select class="form-control" name="status">
                {% for status in task_choices %}
                    <option value="{{ status.0 }}">{{ status.1 }}</option>
                {% endfor %}
            </select>
            <div class="form-group">
                <label for="Due_date">Due Date</label>
                <input type="date" class="form-control" id="Due_date" name="Due_date">
            </div>
              </div>
              <div class="form-group">
            <button type="submit" class="btn btn-primary">{% if task %}Update{% else %}Create{% endif %}</button>
        </div>
    </form>
</div>
{% endblock %}
